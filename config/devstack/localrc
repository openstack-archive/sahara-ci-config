#CINDER_BRANCH=milestone-proposed
#GLANCE_BRANCH=milestone-proposed
#HORIZON_BRANCH=milestone-proposed
#KEYSTONE_BRANCH=milestone-proposed
#NOVA_BRANCH=milestone-proposed
#NEUTRON_BRANCH=milestone-proposed
#SWIFT_BRANCH=milestone-proposed
#HEAT_BRANCH=milestone-proposed

EXTRA_OPTS=(force_config_drive=true libvirt_images_type=qcow2 force_raw_images=false)

ADMIN_PASSWORD=nova
MYSQL_PASSWORD=nova
RABBIT_PASSWORD=nova
SERVICE_PASSWORD=$ADMIN_PASSWORD
SERVICE_TOKEN=nova

RECLONE=yes
API_RATE_LIMIT=False

# Enable Swift services
enable_service s-proxy s-object s-container s-account
SWIFT_HASH=66a3d6b56c1f479c8b4e70ab5c2000f5
SWIFT_REPLICAS=1
SWIFT_LOOPBACK_DISK_SIZE=50G

# Enable Heat API
enable_service heat h-api h-eng

CINDER_SECURE_DELETE=False
VOLUME_BACKING_FILE_SIZE=100000M

# keystone is now configured by default to use PKI as the token format which produces huge tokens.
# set UUID as keystone token format which is much shorter and easier to work with.
KEYSTONE_TOKEN_FORMAT=UUID

FIXED_NETWORK_SIZE=256
if [[ $(hostname -s) =~ neutron ]]; then
  # Stack-ci lab with neutron network provider
  FIXED_RANGE=10.20.0.0/24
  NETWORK_GATEWAY=10.20.0.1
  FLOATING_RANGE=172.18.169.0/26
  PUBLIC_NETWORK_GATEWAY=172.18.169.1

  # enable neutron and disable nova-net
  disable_service n-net
  enable_service q-svc q-agt q-dhcp q-l3 q-meta neutron
else
  # Stack-sahara lab with nova network provider
  FIXED_RANGE=10.1.0.0/24
  NETWORK_GATEWAY=10.1.0.1
  FLOATING_RANGE=172.16.41.0/26
  PUBLIC_NETWORK_GATEWAY=172.16.41.1

  # enable nova-net
  enable_service n-net
fi

# Enable logging
#SCREEN_LOGDIR=/var/log/devstack

IMAGE_URLS=http://cloud-images.ubuntu.com/releases/precise/release/ubuntu-12.04-server-cloudimg-amd64-disk1.img,https://cloud-images.ubuntu.com/trusty/current/trusty-server-cloudimg-amd64-disk1.img
